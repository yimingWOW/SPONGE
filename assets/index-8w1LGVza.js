import{r as p,P as ce,j as e,C as ie,W as le,a as de,c as me,u as B,b as _,d as G,O as q,g as U,N as ue,T as pe,S as T,L as he,e as ge,f as j,h as k,A as w,i as S,k as f,l as y,m as fe,n as $,o as b,B as V,p as O,q as F,s as xe,t as ye,v as X,w as je,x as ke,y as ve,R as Ne,H as be}from"./vendor-Cj4Bv78W.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(s){if(s.ep)return;s.ep=!0;const t=r(s);fetch(s.href,t)}})();const Y=p.createContext({network:"localnet",setNetwork:()=>{}}),Ae=()=>p.useContext(Y),we={"mainnet-beta":me("mainnet-beta"),devnet:"https://greatest-tiniest-mansion.solana-devnet.quiknode.pro/a65e3540c3a32f0f22ed654ea1df784f0a471f51/",localnet:"http://127.0.0.1:8899"},Se=({onChange:n,value:o})=>e.jsx("div",{className:"solana-network-select-container",children:e.jsxs("select",{onChange:r=>n(r.target.value),value:o,className:"solana-network-select",children:[e.jsx("option",{value:"devnet",children:"Devnet"}),e.jsx("option",{value:"localnet",children:"Localnet"}),e.jsx("option",{value:"mainnet-beta",children:"Mainnet"})]})}),Pe=({children:n})=>{const[o,r]=p.useState("devnet"),a=p.useMemo(()=>we[o],[o]),s=p.useMemo(()=>[new ce],[]);return e.jsx(Y.Provider,{value:{network:o,setNetwork:r},children:e.jsx(ie,{endpoint:a,children:e.jsx(le,{wallets:s,autoConnect:!0,children:e.jsx(de,{children:n})})})})},_e="5kNSnQdAhdFhfo9NPK9X1LEVtgT57ttzr5xxJcdKwWh4",Ee={name:"cash",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},Te=[{name:"create_amm",discriminator:[242,91,21,170,5,68,125,64],accounts:[{name:"amm",writable:!0,pda:{seeds:[{kind:"arg",path:"id"}]}},{name:"admin"},{name:"payer",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"id",type:"pubkey"}]},{name:"create_pool_1",discriminator:[65,185,40,205,113,45,173,179],accounts:[{name:"amm",pda:{seeds:[{kind:"account",path:"amm.id",account:"Amm"}]}},{name:"mint_a"},{name:"pool",writable:!0,pda:{seeds:[{kind:"account",path:"amm"},{kind:"account",path:"mint_a"}]}},{name:"pool_authority",pda:{seeds:[{kind:"account",path:"amm"},{kind:"account",path:"mint_a"},{kind:"const",value:[97]}]}},{name:"pool_account_a",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint_a"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"lending_receipt_token_mint",writable:!0,pda:{seeds:[{kind:"account",path:"amm"},{kind:"account",path:"mint_a"},{kind:"const",value:[101]}]}},{name:"cash_token_mint",writable:!0,pda:{seeds:[{kind:"account",path:"amm"},{kind:"account",path:"mint_a"},{kind:"const",value:[102]}]}},{name:"admin"},{name:"payer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"lend",discriminator:[89,34,75,168,122,47,185,45],accounts:[{name:"pool",pda:{seeds:[{kind:"account",path:"pool.amm",account:"Pool"},{kind:"account",path:"pool.mint_a",account:"Pool"}]}},{name:"pool_authority",pda:{seeds:[{kind:"account",path:"pool.amm",account:"Pool"},{kind:"account",path:"pool.mint_a",account:"Pool"},{kind:"const",value:[97]}]}},{name:"pool_account_a",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"pool.mint_a",account:"Pool"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"lending_receipt_token_mint",writable:!0,pda:{seeds:[{kind:"account",path:"pool.amm",account:"Pool"},{kind:"account",path:"pool.mint_a",account:"Pool"},{kind:"const",value:[101]}]}},{name:"cash_token_mint",writable:!0,pda:{seeds:[{kind:"account",path:"pool.amm",account:"Pool"},{kind:"account",path:"pool.mint_a",account:"Pool"},{kind:"const",value:[102]}]}},{name:"lender",signer:!0},{name:"lender_token_a",writable:!0,pda:{seeds:[{kind:"account",path:"lender"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"pool.mint_a",account:"Pool"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"lender_authority",pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"lender"},{kind:"const",value:[97]}]}},{name:"lender_lend_receipt_token",writable:!0,pda:{seeds:[{kind:"account",path:"lender_authority"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"lending_receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"lender_cash_token",writable:!0,pda:{seeds:[{kind:"account",path:"lender"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"cash_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"payer",docs:["The account paying for all rents"],writable:!0,signer:!0},{name:"token_program",docs:["Solana ecosystem accounts"],address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"user_lending_amount",type:"u64"}]},{name:"redeem",discriminator:[184,12,86,149,70,196,97,225],accounts:[{name:"pool",pda:{seeds:[{kind:"account",path:"pool.amm",account:"Pool"},{kind:"account",path:"pool.mint_a",account:"Pool"}]}},{name:"pool_authority",pda:{seeds:[{kind:"account",path:"pool.amm",account:"Pool"},{kind:"account",path:"pool.mint_a",account:"Pool"},{kind:"const",value:[97]}]}},{name:"mint_a"},{name:"pool_account_a",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"pool.mint_a",account:"Pool"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"lending_receipt_token_mint",writable:!0,pda:{seeds:[{kind:"account",path:"pool.amm",account:"Pool"},{kind:"account",path:"pool.mint_a",account:"Pool"},{kind:"const",value:[101]}]}},{name:"lender",signer:!0},{name:"lender_token_a",writable:!0,pda:{seeds:[{kind:"account",path:"lender"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint_a"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"lender_authority",pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"lender"},{kind:"const",value:[97]}]}},{name:"lender_lend_receipt_token",writable:!0,pda:{seeds:[{kind:"account",path:"lender_authority"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"lending_receipt_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"cash_token_mint",writable:!0,pda:{seeds:[{kind:"account",path:"pool.amm",account:"Pool"},{kind:"account",path:"pool.mint_a",account:"Pool"},{kind:"const",value:[102]}]}},{name:"lender_cash_token",writable:!0,pda:{seeds:[{kind:"account",path:"lender"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"cash_token_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"payer",writable:!0,signer:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]}],Ce=[{name:"Amm",discriminator:[143,245,200,17,74,214,196,135]},{name:"Pool",discriminator:[241,154,109,4,17,177,109,188]}],Le=[{code:6e3,name:"CalculationError",msg:"Calculation error"}],Be=[{name:"Amm",type:{kind:"struct",fields:[{name:"id",docs:["Primary key of the AMM"],type:"pubkey"},{name:"admin",docs:["Account that has admin authority over the AMM"],type:"pubkey"},{name:"liquidity_fee",docs:["liquidity fee percentage: 100000 = 100%"],type:"u16"},{name:"protocol_fee_percentage",docs:["Protocol fee percentage of the liquidity fee (0-100)","e.g., 10000 means 100% of liquidity fee goes to protocol"],type:"u16"}]}},{name:"Pool",type:{kind:"struct",fields:[{name:"amm",docs:["Primary key of the AMM"],type:"pubkey"},{name:"mint_a",docs:["Mint of token A"],type:"pubkey"},{name:"token_a_amount",docs:["借贷池中token a的数量"],type:"u64"},{name:"token_b_amount",docs:["借贷池中token b的数量"],type:"u64"}]}}],Me=[{name:"AUTHORITY_SEED",type:"bytes",value:"[97]"},{name:"CASH_TOKEN_SEED",type:"bytes",value:"[102]"},{name:"LENDING_TOKEN_SEED",type:"bytes",value:"[101]"}],P={address:_e,metadata:Ee,instructions:Te,accounts:Ce,errors:Le,types:Be,constants:Me},A="a",M="e",D="f",De="GUXNPX5ci1Qj76MZe2aRJ33zK48VmT6gXVyR86CsF4T5",J="EisXsrG1aCoaJTFSDdXTBRAEAZP46wPWkKJpF7RfC3DV",C=({isActive:n,onClick:o,icon:r,label:a})=>e.jsx("button",{className:`tab-button ${n?"active":""}`,onClick:o,children:e.jsxs("div",{className:"section-title",children:[r,a]})}),Ie=()=>{const{publicKey:n}=B(),o=_(),a=G().pathname.split("/")[1]||"guide",s=t=>{o(`/${t}`)};return e.jsxs("div",{className:"dashboard",children:[e.jsxs("nav",{className:"tab-nav",children:[(n==null?void 0:n.toBase58())===De&&e.jsx(C,{isActive:a==="amm",onClick:()=>s("amm"),icon:"⚙️",label:"AMM"}),e.jsx(C,{isActive:a==="introduction",onClick:()=>s("introduction"),icon:"📖",label:"Introduction"}),e.jsx(C,{isActive:a==="guide",onClick:()=>s("guide"),icon:"📚",label:"Guide"}),e.jsx(C,{isActive:a==="farm",onClick:()=>s("farm"),icon:"💰",label:"Cash"})]}),e.jsx("div",{className:"dashboard-content",children:e.jsx(q,{})})]})};async function Oe(n,o,r){try{const a=await U(ue,o.publicKey),s=new pe;s.add(T.transfer({fromPubkey:o.publicKey,toPubkey:a,lamports:r*he})),s.add(ge(a));const t=await n.getLatestBlockhash();s.recentBlockhash=t.blockhash,s.feePayer=o.publicKey;const c=await o.signTransaction(s),i=await n.sendRawTransaction(c.serialize());return await n.confirmTransaction({signature:i,...t}),i}catch(a){throw console.error("Error wrapping SOL:",a),a}}const Fe=({onSuccess:n})=>{const o=j(),{connection:r}=k(),[a,s]=p.useState(""),[t,c]=p.useState(!1),[i,d]=p.useState(""),u=async m=>{if(m.preventDefault(),s(""),c(!0),!o){s("Please connect your wallet first"),c(!1);return}if(!i||isNaN(Number(i))||Number(i)<=0){s("Please enter a valid amount"),c(!1);return}try{const h=await Oe(r,o,Number(i));console.log(`Transaction URL: https://explorer.solana.com/tx/${h}`),n(h),d("")}catch(h){console.error("Error wrapping SOL:",h),s(h instanceof Error?h.message:"Failed to wrap SOL")}finally{c(!1)}};return e.jsxs("div",{className:"wrapper",children:[a&&e.jsx("div",{className:"secondary-text",style:{color:"var(--error)"},children:a}),e.jsxs("form",{onSubmit:u,children:[e.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:e.jsx("input",{type:"number",value:i,onChange:m=>d(m.target.value),placeholder:"Enter SOL amount",step:"any",min:"0",className:"input-field",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid var(--border-color)"}})}),e.jsx("div",{className:"align-center",children:e.jsx("button",{type:"submit",className:"button btn-primary",disabled:t||!o||!i,children:t?"Processing...":"Wrap SOL"})})]})]})},Re="/SPONGE/assets/guide_pic_1-BISUfyi8.png",K=()=>e.jsxs("div",{className:"card-container",children:[e.jsx("h1",{className:"title",children:"Getting Started with SPONGE Protocol"}),e.jsxs("section",{className:"section",children:[e.jsx("h2",{children:"Prerequisites"}),e.jsxs("div",{className:"step",children:[e.jsx("h3",{children:"1. Enable Devnet in Phantom Wallet"}),e.jsx("p",{children:"Open Phantom wallet settings → Developer Settings → Open Testnet Mode"}),e.jsx("img",{src:Re,alt:"Enable Devnet in Phantom",className:"guide-image"})]}),e.jsxs("div",{className:"step",children:[e.jsx("h3",{children:"2. Get Devnet Token"}),e.jsxs("p",{children:["Obtain Devnet SOL from the ",e.jsx("a",{className:"text-link",href:"https://faucet.solana.com/",target:"_blank",rel:"noopener noreferrer",children:"Solana Faucet"})]}),e.jsxs("p",{children:["Obtain Devnet USDT tokens from the ",e.jsx("a",{className:"text-link",href:"https://spl-token-faucet.com/?token-name=USDT",target:"_blank",rel:"noopener noreferrer",children:"SPL Token Faucet"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("h3",{children:"3. Convert SOL to WSOL for trading in Wsol-USDT Pool"}),e.jsx(Fe,{onSuccess:()=>{}})]})]}),e.jsxs("section",{className:"section",children:[e.jsx("h2",{children:"Using the Protocol"}),e.jsxs("div",{className:"step",children:[e.jsx("h3",{children:"1. Connect Your Wallet"}),e.jsx("p",{children:'Use the "Connect Wallet" button in the top right corner'})]}),e.jsxs("div",{className:"step",children:[e.jsx("h3",{children:"2. Deposit SOL"}),e.jsx("p",{children:"You can deposit SOL into the pool and get $cash"})]}),e.jsxs("div",{className:"step",children:[e.jsx("h3",{children:"3. Withdraw SOL"}),e.jsx("p",{children:"You can withdraw SOL and repay the $cash"})]})]})]});async function Ke(n,o){try{const r=new w(o,n,{preflightCommitment:"confirmed"});return(await new S(P,r).account.pool.all()).map(t=>({poolPk:new f(t.publicKey.toString()),amm:new f(t.account.amm.toString()),mintA:new f(t.account.mintA.toString()),tokenAAmount:t.account.tokenAAmount.toString(),displayName:`${t.account.mintA.toString().slice(0,4)}}`}))}catch(r){throw console.error("Error fetching pool accounts:",r),r}}const v="/SPONGE/assets/favicon-VXsBTfPu.png",z=({showCreatePool:n=!1,onCreatePool:o})=>{const r=j(),{connection:a}=k(),s=_(),t=G(),[c,i]=p.useState([]),[d,u]=p.useState(!0),m=async()=>{try{if(u(!0),!r)return;const l=await Ke(r,a);i(l)}catch(l){console.error("Error fetching pools:",l)}finally{u(!1)}};p.useEffect(()=>{m()},[a,r]);const h=(l,g)=>{g.stopPropagation();const x=t.pathname.split("/")[1];s(`/${x}/${l.poolPk.toString()}`)};return e.jsx("div",{className:"tap-page",children:d?e.jsx("div",{className:"loading-spinner"}):e.jsxs("div",{className:"section",children:[n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"right-location-button",children:e.jsx("button",{className:"button btn-primary",onClick:o,children:"Create Pool"})}),e.jsx("div",{className:"section"})]}),c.length===0?e.jsx("span",{className:"code-text",children:"No pools available"}):c.map(l=>e.jsx("div",{className:"step",children:e.jsxs("div",{className:"row-align-center",children:[e.jsxs("div",{className:"token-pair-container",children:[e.jsx("img",{src:l.tokenAIcon||v,alt:l.tokenASymbol||"Token A",className:"token-icon",onError:g=>{g.target.src=v}}),e.jsx("div",{className:"swap-direction-toggle"}),e.jsx("img",{src:l.tokenBIcon||v,alt:l.tokenBSymbol||"Token B",className:"token-icon",onError:g=>{g.target.src=v}})]}),e.jsx("span",{className:"body-text",children:"Trading Pair: "}),e.jsx("span",{className:"code-text address-pair",children:e.jsxs("span",{children:[l.mintA.toString().slice(0,4),"...",l.mintA.toString().slice(-4)]})}),e.jsx("span",{className:"body-text",children:"Pool Address: "}),e.jsxs("span",{className:"code-text",children:[l.poolPk.toString().slice(0,4),"...",l.poolPk.toString().slice(-4)]}),e.jsx("button",{className:"button btn-primary",onClick:g=>h(l,g),children:"Details"})]})},l.poolPk.toString()))]})})},We=()=>e.jsxs("div",{children:[e.jsx(z,{}),e.jsx(q,{}),"  "]}),Ge=async(n,o)=>{console.log("Getting AMM accounts connection:",o);const r=new w(o,n,{preflightCommitment:"confirmed"}),s=await new S(P,r).account.amm.all();for(const t of s)console.log("AMM Account Details:",{publicKey:t.publicKey.toString(),id:t.account.id.toString(),admin:t.account.admin.toString()});return s.map(t=>({pubkey:t.publicKey.toString(),ammid:t.account.id.toString(),admin:t.account.admin.toString()}))},H=p.createContext(void 0),qe=({children:n})=>{const o=j(),{connection:r}=k(),[a,s]=p.useState(null),[t,c]=p.useState([]),[i,d]=p.useState(!1),[u,m]=p.useState(null),h=g=>{console.log("Selected AMM:",g.pubkey),s(g)},l=async()=>{if(o){d(!0),m(null);try{const g=await Ge(o,r);console.log("Fetched AMM accounts:",g),c(g),g.length>0&&!a&&h(g[0])}catch(g){console.error("Error fetching AMMs:",g),m(g instanceof Error?g.message:"Failed to fetch AMMs")}finally{d(!1)}}};return p.useEffect(()=>{l()},[o,r]),e.jsx(H.Provider,{value:{amm:a,amms:t,setAmm:s,selectAmm:h,isLoading:i,error:u,refreshAmms:l},children:n})},Q=()=>{const n=p.useContext(H);if(!n)throw new Error("useAmm must be used within an AmmProvider");return n};async function Ue(n,o,r){try{const a=new w(o,n,{preflightCommitment:"confirmed"}),s=new S(P,a),[t]=f.findProgramAddressSync([r.toBuffer()],s.programId);return await s.methods.createAmm(r).accounts({amm:t,admin:J,payer:a.wallet.publicKey,systemProgram:T.programId}).rpc()}catch(a){throw console.error("Error details:",a),a}}const $e=()=>{const n=j(),{connection:o}=k(),[r,a]=p.useState(""),[s,t]=p.useState("500"),[c,i]=p.useState(!1),[d,u]=p.useState(""),m=async h=>{if(h.preventDefault(),a(""),i(!0),!n){a("Please connect your wallet first"),i(!1);return}const l=Number(s);if(l<1||l>1e4){a("Fee must be between 1 and 10000"),i(!1);return}try{const g=f.unique(),x=await Ue(n,o,g);console.log(`Transaction URL: https://explorer.solana.com/tx/${x}`),u(g.toString()),t("500")}catch(g){console.error("Error creating AMM:",g),a(g instanceof Error?g.message:"Failed to create AMM. Please try again.")}finally{i(!1)}};return e.jsxs("div",{className:"create-amm-container",children:[r&&e.jsx("div",{className:"error-message",children:r}),d&&e.jsxs("div",{className:"success-message",children:["AMM created successfully! ID: ",d]}),e.jsx("form",{onSubmit:m,className:"form",children:e.jsx("button",{type:"submit",className:"button btn-primary",disabled:c||!n,children:c?"Creating...":"Create AMM"})})]})},Ve=()=>{const{amms:n,selectAmm:o,isLoading:r,error:a}=Q();return e.jsxs("div",{className:"tap-page",children:[e.jsx("h2",{children:"Existing AMMs"}),a&&e.jsx("div",{className:"error-message",children:a}),r?e.jsx("div",{children:"Loading AMMs..."}):n.length===0?e.jsx("div",{className:"card-container",children:e.jsx("p",{children:"No AMMs found"})}):e.jsx("div",{className:"card-container",children:n.map(s=>e.jsx("div",{onClick:()=>o(s),children:e.jsxs("div",{className:"section",children:[e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"body-text",children:"AMM Pubkey:"}),e.jsx("span",{className:"code-text",children:s.pubkey})]}),e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"body-text",children:"AMM ID:"}),e.jsxs("span",{className:"code-text",children:[s.ammid," bps"]})]}),e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"body-text",children:"AMM Admin:"}),e.jsxs("span",{className:"code-text",children:[s.admin," bps"]})]})]})},s.pubkey))}),e.jsx($e,{})]})},Xe=()=>{const n=_();return e.jsx("div",{children:e.jsx(z,{showCreatePool:!0,onCreatePool:()=>n("/farm/create")})})};async function Z(n,o,r,a){try{const s=new w(o,n,{commitment:"confirmed",preflightCommitment:"confirmed"}),t=new S(P,s),c=await t.account.pool.fetch(r);let i;try{i=await t.account.amm.fetch(c.amm),console.log("amm",i)}catch(re){console.log("amm",re)}const d=new f(c.mintA),[u]=f.findProgramAddressSync([r.toBuffer(),s.wallet.publicKey.toBuffer(),y.Buffer.from(A)],t.programId),[m]=f.findProgramAddressSync([c.amm.toBuffer(),d.toBuffer(),y.Buffer.from(A)],t.programId),[h]=f.findProgramAddressSync([c.amm.toBuffer(),d.toBuffer(),y.Buffer.from(M)],t.programId),[l]=f.findProgramAddressSync([c.amm.toBuffer(),d.toBuffer(),y.Buffer.from(D)],t.programId),[g,x,N,E,R]=await Promise.all([Ye(o,r).catch(()=>!1),L(o,m,c.mintA).catch(()=>0),L(o,a,d).catch(()=>0),L(o,u,h).catch(()=>0),L(o,a,l).catch(()=>0)]);return console.log("poolAccountAInfo",x),console.log("userTokenAAccount",N),console.log("userLendingReceiptAmount",E),console.log("userCashAmount",R),{poolStatus:{createPool1:g},poolInfo:{poolPk:r,amm:c.amm,admin:i.admin,mintA:d,tokenASymbol:d.toString().slice(0,4),tokenAIcon:v,tokenAAmount:Number(x)},userAssets:{tokenAAmount:N.toString(),lendingReceiptAmount:E.toString(),cashAmount:R.toString()}}}catch(s){return console.error("Error getting lending pool details:",s),{poolStatus:{createPool1:!1},poolInfo:{poolPk:new f(r),amm:new f(""),admin:new f(""),mintA:new f(""),tokenAAmount:0},userAssets:{tokenAAmount:"0",lendingReceiptAmount:"0",cashAmount:"0"}}}}async function L(n,o,r){try{const a=await U(r,o,!0),s=await fe(n,a);return Number(s.amount)}catch(a){return console.log("getUserTokenAmount",a),0}}async function Ye(n,o){return await n.getAccountInfo(o)!==null}async function ee(n,o,r,a){try{console.log("Executing lend...");const s=new w(o,n,{preflightCommitment:"confirmed"}),t=new S(P,s),c=await t.account.pool.fetch(r),i=c.mintA;console.log("mintA",i.toString()),console.log("pool.amm",c.amm.toString());const[d]=f.findProgramAddressSync([c.amm.toBuffer(),i.toBuffer(),y.Buffer.from(A)],t.programId),u=$(i,d,!0),[m]=f.findProgramAddressSync([c.amm.toBuffer(),i.toBuffer(),y.Buffer.from(M)],t.programId),[h]=f.findProgramAddressSync([c.amm.toBuffer(),i.toBuffer(),y.Buffer.from(D)],t.programId),l=await b.token.associatedAddress({mint:i,owner:s.wallet.publicKey}),[g]=f.findProgramAddressSync([r.toBuffer(),s.wallet.publicKey.toBuffer(),y.Buffer.from(A)],t.programId),x=await b.token.associatedAddress({mint:m,owner:g}),N=await b.token.associatedAddress({mint:h,owner:s.wallet.publicKey});return{tx:await t.methods.lend(new V(a)).accounts({pool:r,poolAuthority:d,poolAccountA:u,lendingReceiptTokenMint:m,cashTokenMint:h,lender:s.wallet.publicKey,lenderTokenA:l,lenderAuthority:g,lenderLendReceiptToken:x,lenderCashToken:N,payer:s.wallet.publicKey,tokenProgram:O,associatedTokenProgram:F,systemProgram:T.programId}).rpc(),accounts:{poolAuthority:d,lendingReceiptTokenMint:m,cashTokenMint:h,lenderTokenA:l,lenderLendReceiptToken:x,lenderCashToken:N}}}catch(s){throw console.error("Error in lend:",s),s instanceof Error&&console.error("Error details:",{message:s.message,stack:s.stack}),s}}const Je=({pool:n,onSuccess:o})=>{const r=j(),{connection:a}=k(),[s,t]=p.useState(""),[c,i]=p.useState(!1),[d,u]=p.useState(""),m=async h=>{if(h.preventDefault(),t(""),i(!0),!r){t("Please connect your wallet first"),i(!1);return}try{const l=parseFloat(d);if(isNaN(l)||l<=0)throw new Error("Invalid amount");const g=new f(n.poolPk),x=await ee(r,a,g,new V(l));console.log(`Transaction URL: https://explorer.solana.com/tx/${x.tx}`),u(""),o(x.tx)}catch(l){console.error("Error lending:",l),t(l instanceof Error?l.message:"Failed to lend")}finally{i(!1)}};return e.jsx("div",{className:"wrapper",children:e.jsx("form",{onSubmit:m,children:e.jsxs("div",{className:"wrapper-container",children:[e.jsx("div",{className:"wrapper-header",children:s&&e.jsx("div",{className:"error-message",children:s})}),e.jsx("div",{className:"wrapper-box",children:e.jsx("input",{className:"input",type:"number",value:d,onChange:h=>u(h.target.value),placeholder:"Enter amount to lend",required:!0,min:"0",step:"any",disabled:c})}),e.jsx("div",{className:"align-center",children:e.jsx("button",{type:"submit",className:"button btn-primary",disabled:c||!r,children:c?"Processing...":"Confirm Lend"})})]})})})};async function te(n,o,r){try{console.log("Executing redeem...");const a=new w(o,n,{preflightCommitment:"confirmed"}),s=new S(P,a),t=await s.account.pool.fetch(r),c=t.mintA,[i]=f.findProgramAddressSync([t.amm.toBuffer(),c.toBuffer(),y.Buffer.from(A)],s.programId),d=$(c,i,!0),[u]=f.findProgramAddressSync([t.amm.toBuffer(),c.toBuffer(),y.Buffer.from(M)],s.programId),[m]=f.findProgramAddressSync([t.amm.toBuffer(),c.toBuffer(),y.Buffer.from(D)],s.programId),h=await b.token.associatedAddress({mint:c,owner:a.wallet.publicKey}),[l]=f.findProgramAddressSync([r.toBuffer(),a.wallet.publicKey.toBuffer(),y.Buffer.from(A)],s.programId),g=await b.token.associatedAddress({mint:u,owner:l}),x=await b.token.associatedAddress({mint:m,owner:a.wallet.publicKey});return{tx:await s.methods.redeem().accounts({pool:r,poolAuthority:i,mintA:c,poolAccountA:d,lendingReceiptTokenMint:u,lender:a.wallet.publicKey,lenderTokenA:h,lenderAuthority:l,lenderLendReceiptToken:g,cashTokenMint:m,lenderCashToken:x,payer:a.wallet.publicKey,tokenProgram:O,associatedTokenProgram:F,systemProgram:T.programId}).rpc(),accounts:{poolAuthority:i,lendingReceiptTokenMint:u,cashTokenMint:m,lenderTokenA:h,lenderLendReceiptToken:g,lenderCashToken:x}}}catch(a){throw console.error("Error in redeem:",a),a instanceof Error&&console.error("Error details:",{message:a.message,stack:a.stack}),a}}const ze=({pool:n,onSuccess:o})=>{const r=j(),{connection:a}=k(),[s,t]=p.useState(""),[c,i]=p.useState(!1),d=async u=>{if(u.preventDefault(),t(""),i(!0),!r){t("Please connect your wallet first"),i(!1);return}try{const m=new f(n.poolPk),h=await te(r,a,m);console.log(`Transaction URL: https://explorer.solana.com/tx/${h}`),o(h.tx)}catch(m){console.error("Error redeeming:",m),t(m instanceof Error?m.message:"Failed to redeem")}finally{i(!1)}};return e.jsxs("div",{className:"wrapper",children:[e.jsx("h3",{className:"section-title",children:"Redeem Tokens"}),s&&e.jsx("div",{className:"secondary-text",style:{color:"var(--error)"},children:s}),e.jsxs("form",{onSubmit:d,children:[e.jsx("div",{className:"note-text",style:{marginBottom:"var(--spacing-md)"},children:"Note: This will redeem all your lending receipt and return your tokenA."}),e.jsx("div",{className:"align-center",children:e.jsx("button",{type:"submit",className:"button btn-primary",disabled:c||!r,children:c?"Processing...":"Confirm Redeem"})})]})]})};async function ne(n,o,r,a){try{const s=new w(o,n,{commitment:"confirmed",preflightCommitment:"confirmed"}),t=new S(P,s),[c]=f.findProgramAddressSync([r.toBuffer(),a.toBuffer()],t.programId),[i]=f.findProgramAddressSync([r.toBuffer(),a.toBuffer(),y.Buffer.from(A)],t.programId),d=await b.token.associatedAddress({mint:a,owner:i}),[u]=f.findProgramAddressSync([r.toBuffer(),a.toBuffer(),y.Buffer.from(M)],t.programId),[m]=f.findProgramAddressSync([r.toBuffer(),a.toBuffer(),y.Buffer.from(D)],t.programId),h=xe.setComputeUnitLimit({units:1e6});console.log("Step 1: Creating pool...");let l="";return await He(o,c)?console.log("Pool already exists, skipping..."):(l=await t.methods.createPool1().accounts({amm:r,mintA:a,pool:c,poolAuthority:i,poolAccountA:d,lendingReceiptTokenMint:u,cashTokenMint:m,admin:J,payer:s.wallet.publicKey,tokenProgram:O,associatedTokenProgram:F,systemProgram:T.programId,rent:ye}).preInstructions([h]).rpc({commitment:"confirmed"}),await o.confirmTransaction(l,"confirmed"),console.log("Transaction signature:",l)),console.log("Step 2: Creating pool..."),{tx1:l}}catch(s){console.error("Error",s)}return{tx1:""}}async function He(n,o){return await n.getAccountInfo(o)!==null}const se=({pool:n,onTxSuccess:o,poolStatus:r})=>{const a=j(),{connection:s}=k(),[t,c]=p.useState(!1);if(r===null)return e.jsx("div",{className:"wrapper",children:e.jsx("div",{className:"card-container",children:e.jsx("div",{className:"wrapper-box",children:e.jsx("div",{className:"align-center",children:"Loading pool status..."})})})});const i=r&&r.createPool1,d=async()=>{try{if(!a){console.error("Wallet not connected");return}if(!n){console.error("Pool not found");return}c(!0);const u=await ne(a,s,n==null?void 0:n.amm,n==null?void 0:n.mintA);o(u.toString())}catch(u){console.error("Error creating pool:",u)}finally{c(!1)}};return e.jsx("div",{className:"wrapper",children:e.jsx("div",{className:"card-container",children:!i&&e.jsxs("div",{className:"wrapper-box",children:[e.jsx("div",{className:"align-center",children:e.jsx("div",{className:"segmented-progress-bar",children:e.jsx("div",{className:`segment ${r!=null&&r.createPool1?"completed":"pending"}`,title:"Create Pool 1"})})}),e.jsx("div",{className:"step",children:e.jsx("p",{children:"This pool has not initialized completely yet. Click the button below to initialize it."})}),e.jsx("div",{className:"align-center",children:e.jsx("button",{className:"button btn-primary",onClick:d,disabled:t,children:t?"Initializing Pool...":"Initialize Pool"})})]})})})},ae=n=>n?!n.createPool1:!0,Qe=(n,o=4)=>`${n.substring(0,o)}...${n.substring(n.length-o)}`,Ze=({address:n="",shortened:o=!0})=>{const[r,a]=p.useState(!1),s=async()=>{try{await navigator.clipboard.writeText(n),a(!0),setTimeout(()=>a(!1),2e3)}catch(t){console.error("Failed to copy text: ",t)}};return e.jsxs("div",{className:"copyable-address",children:[e.jsx("span",{className:"code-text",title:n,children:o?Qe(n):n}),e.jsx("button",{className:"secondary-button",onClick:s,title:r?"Copied!":"Copy address",children:e.jsx("div",{className:`copy-icon ${r?"copied":""}`})})]})},et=({poolInfo:n})=>{const o=r=>{r.currentTarget.src=v};return e.jsx("div",{className:"combine-text",children:e.jsxs("div",{className:"info-row",children:[e.jsxs("div",{className:"token-pair-container",children:[e.jsx("img",{src:(n==null?void 0:n.tokenAIcon)||v,alt:(n==null?void 0:n.tokenASymbol)||"Token A",className:"token-icon",onError:o}),e.jsx("img",{src:(n==null?void 0:n.tokenBIcon)||v,alt:(n==null?void 0:n.tokenBSymbol)||"Token B",className:"token-icon",onError:o})]}),e.jsx("span",{className:"body-text",children:"Trading Pair: "}),e.jsx("span",{className:"code-text address-pair",children:e.jsxs("span",{children:[n==null?void 0:n.mintA.toString().slice(0,4),"...",n==null?void 0:n.mintA.toString().slice(-4)]})}),e.jsx("span",{className:"body-text",children:"Pool Address:"}),e.jsx(Ze,{address:(n==null?void 0:n.poolPk.toString())||""})]})})},I=({label:n,address:o})=>{const r=a=>a?`${a}`:"";return e.jsxs("div",{className:"address-label",children:[e.jsxs("span",{className:"body-text",children:[n,":"]}),e.jsx("span",{className:"code-text",children:r(o||"")})]})},tt=()=>{const{poolAddress:n}=X(),o=_(),{connection:r}=k(),a=j(),{publicKey:s}=B(),[t,c]=p.useState(null),[i,d]=p.useState(!1),u=async()=>{try{if(!a||!n)return;d(!0);const m=await Z(a,r,new f(n),s||new f(""));c(m)}catch(m){console.error("Error fetchDetails",m)}finally{d(!1)}};return p.useEffect(()=>{u()},[n,r,s]),e.jsxs("div",{className:"card-container",children:[e.jsx("div",{className:"back-button-container",children:e.jsx("button",{className:"button btn-primary",onClick:()=>o("/cash"),style:{marginBottom:"var(--spacing-md)"},children:"Back"})}),ae((t==null?void 0:t.poolStatus)||null)?e.jsx(se,{pool:(t==null?void 0:t.poolInfo)||null,poolStatus:(t==null?void 0:t.poolStatus)||null,onTxSuccess:()=>{}}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"section",children:e.jsx("div",{className:"step",children:e.jsx("div",{className:"info-row",children:e.jsx(et,{poolInfo:(t==null?void 0:t.poolInfo)||null})})})}),e.jsx("div",{className:"section",children:e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"info-row",children:e.jsx(I,{label:"TokenA Address",address:t==null?void 0:t.poolInfo.mintA.toString()})}),e.jsx("div",{className:"note-text",children:"Note: Profit sharing is based on time and capital contribution among lenders."}),e.jsx("div",{className:"note-text",children:"Lent funds in the lending pool earn 0.05% profit per block, paid from borrowers' collateral."}),e.jsx("div",{className:"note-text",children:"In case of mass liquidation events, lenders may not recover their full assets but receive a combination of lent assets and borrower collateral. Withdrawals follow a first-come-first-served principle."})]})}),i?e.jsx("div",{className:"loading-spinner"}):t?e.jsxs("div",{className:"section",children:[e.jsx("div",{className:"step",children:e.jsxs("div",{className:"info-row",children:[e.jsx(I,{label:"Your TokenA Balance",address:t==null?void 0:t.userAssets.tokenAAmount}),e.jsx(I,{label:"You have lent tokenA",address:t.userAssets.lendingReceiptAmount})]})}),Number(t.userAssets.lendingReceiptAmount)===0?e.jsx("div",{className:"step",children:e.jsx(Je,{pool:t==null?void 0:t.poolInfo,onSuccess:()=>{u()}})}):e.jsx("div",{className:"step",children:e.jsx(ze,{pool:t==null?void 0:t.poolInfo,onSuccess:()=>{u()}})})]}):e.jsx("div",{className:"secondary-text",children:"Failed to load credit pool details"})]})]})},nt=({pool:n,onSuccess:o})=>{const r=j(),{connection:a}=k(),[s,t]=p.useState(!1),[c,i]=p.useState(""),[d,u]=p.useState({amountA:""}),m=async h=>{h.preventDefault(),i(""),t(!0);try{const l=parseFloat(d.amountA),g=await ee(r,a,new f((n==null?void 0:n.poolPk)||""),l);o(g.tx),u({amountA:""})}catch(l){console.error("Error depositing liquidity:",l),i(l instanceof Error?l.message:"Failed to deposit liquidity")}finally{t(!1)}};return e.jsx("div",{className:"wrapper",children:e.jsx("form",{onSubmit:m,children:e.jsxs("div",{className:"wrapper-container",children:[e.jsx("div",{className:"wrapper-header",children:c&&e.jsx("div",{className:"error-message",children:c})}),e.jsxs("div",{className:"wrapper-box",children:[e.jsx("div",{className:"input-header",children:"Token A"}),e.jsxs("div",{className:"token-input-section",children:[e.jsxs("div",{className:"token-selector",children:[e.jsx("img",{src:(n==null?void 0:n.tokenAIcon)||v,alt:(n==null?void 0:n.tokenASymbol)||"Token A",className:"token-icon",onError:h=>{h.target.src=v}}),e.jsx("span",{children:n==null?void 0:n.tokenASymbol})]}),e.jsx("input",{type:"number",step:"any",value:d.amountA,onChange:h=>u({...d,amountA:h.target.value}),placeholder:"0.00",required:!0,disabled:s})]})]}),e.jsx("button",{type:"submit",className:"button btn-primary",disabled:s||!r||!d.amountA,children:r?s?"Depositing Liquidity...":"Deposit Liquidity":"Connect Wallet"})]})})})},st=({pool:n,receiptAmount:o,cashAmount:r,onSuccess:a})=>{const s=j(),{connection:t}=k(),[c,i]=p.useState(!1),[d,u]=p.useState(""),m=async h=>{h.preventDefault(),u(""),i(!0);try{const l=await te(s,t,new f(n.poolPk));a(l.tx)}catch(l){console.error("Error depositing liquidity:",l),u(l instanceof Error?l.message:"Failed to deposit liquidity")}finally{i(!1)}};return e.jsx("div",{className:"wrapper",children:e.jsx("form",{onSubmit:m,children:e.jsxs("div",{className:"wrapper-container",children:[e.jsxs("div",{className:"wrapper-header",children:[e.jsxs("div",{className:"body-text",children:["Deposited $Sol amount: ",o]}),d&&e.jsx("div",{className:"error-message",children:d}),e.jsxs("div",{className:"body-text",children:["Owned $Cash amount: ",r]}),d&&e.jsx("div",{className:"error-message",children:d})]}),e.jsx("button",{type:"submit",className:"button btn-primary",disabled:c||!s||!o,children:s?c?"Withdrawing Liquidity...":"Withdraw Liquidity":"Connect Wallet"})]})})})},at=()=>{const{connection:n}=k(),o=j(),{poolAddress:r}=X(),a=_(),{publicKey:s}=B(),[t,c]=p.useState(null),[i,d]=p.useState(!1),u=async()=>{try{if(!o)return;d(!0);const m=await Z(o,n,new f(r||""),s||new f(""));c(m)}catch(m){console.error("Error fetchDetails",m)}finally{d(!1)}};return p.useEffect(()=>{u()},[r,n,s]),e.jsxs("div",{className:"card-container",children:[e.jsx("div",{className:"back-button-container",children:e.jsx("button",{className:"button btn-primary",onClick:()=>a("/farm"),style:{marginBottom:"var(--spacing-md)"},children:"Back"})}),ae((t==null?void 0:t.poolStatus)||null)?e.jsx("div",{className:"section",children:e.jsx(se,{pool:(t==null?void 0:t.poolInfo)||null,poolStatus:(t==null?void 0:t.poolStatus)||null,onTxSuccess:u})}):e.jsxs("div",{className:"section",children:[i?e.jsx("div",{className:"step",children:e.jsx("div",{className:"code-text",children:"Loading prices..."})}):t?e.jsx(e.Fragment,{children:e.jsx("div",{className:"align-center",children:e.jsx("div",{className:"step",children:e.jsxs("div",{className:"info-row",children:[e.jsx("span",{className:"body-text",children:"Pool TokenA Amount:"}),e.jsx("span",{className:"code-text",children:t==null?void 0:t.poolInfo.tokenAAmount.toFixed(6)})]})})})}):e.jsx("div",{className:"step",children:e.jsx("div",{className:"code-text",style:{color:"var(--error)"},children:"Failed to load prices"})}),e.jsx(nt,{pool:(t==null?void 0:t.poolInfo)||null,onSuccess:u}),e.jsx("div",{className:"wrapper"}),i?e.jsx("div",{className:"loading-state",children:e.jsx("div",{className:"code-text",children:"Loading your cash amount..."})}):t?e.jsx(st,{pool:(t==null?void 0:t.poolInfo)||null,receiptAmount:parseFloat(t.userAssets.lendingReceiptAmount),cashAmount:parseFloat(t.userAssets.cashAmount),onSuccess:u}):e.jsx("div",{className:"error-state",children:e.jsx("div",{className:"code-text",children:"Failed to load your cash amount"})}),(s==null?void 0:s.toBase58())==(t==null?void 0:t.poolInfo.admin.toString())&&e.jsx("div",{className:"step",children:e.jsx("div",{className:"info-row",children:e.jsx("div",{className:"body-text",children:"You are the admin of this pool"})})})]})]})},ot=()=>{const n=_(),o=j(),{connection:r}=k(),{amm:a}=Q(),[s,t]=p.useState(""),[c,i]=p.useState(!1),[d,u]=p.useState(""),[m,h]=p.useState({mintA:""}),l=async g=>{if(g.preventDefault(),t(""),u(""),i(!0),!o){t("Please connect your wallet first"),i(!1);return}if(!a){t("Please select an AMM first"),i(!1);return}try{const x=new f(a.pubkey),N=new f(m.mintA),E=await ne(o,r,x,N);u(E.toString()),h({mintA:""}),n("/farm")}catch(x){console.error("Error creating pool:",x),t(x instanceof Error?x.message:"Failed to create pool")}finally{i(!1)}};return e.jsxs("div",{className:"wrapper",children:[e.jsx("div",{className:"back-button-container",children:e.jsx("button",{className:"button btn-primary",onClick:()=>n("/farm"),style:{marginBottom:"var(--spacing-md)"},children:"Back"})}),e.jsx("div",{className:"wrapper-container",children:e.jsxs("div",{className:"wrapper-box",children:[e.jsx("div",{className:"section-title",children:"Create New Pool"}),e.jsx("div",{className:"note-text",children:"Note: Init pool need sign 5 times"}),s&&e.jsx("div",{className:"code-text",style:{color:"var(--error)"},children:s}),d&&e.jsxs("div",{children:[e.jsx("span",{className:"code-text",style:{color:"var(--primary)"},children:"Pool created successfully!"}),e.jsx("a",{href:`https://explorer.solana.com/tx/${d}`,target:"_blank",rel:"noopener noreferrer",className:"code-text",style:{marginLeft:"var(--spacing-xs)"},children:"View transaction"})]}),e.jsxs("form",{onSubmit:l,children:[e.jsxs("div",{className:"wrapper-box",children:[e.jsx("span",{className:"sub-title",children:"SPONGE Pubkey"}),e.jsx("input",{className:"input",type:"text",value:a?a.pubkey:"",readOnly:!0,disabled:!0})]}),e.jsxs("div",{className:"wrapper-box",children:[e.jsx("span",{className:"sub-title",children:"Token A Mint Address"}),e.jsx("input",{className:"input",type:"text",value:m.mintA,onChange:g=>h({...m,mintA:g.target.value}),placeholder:"Enter token A mint address",required:!0,disabled:c})]}),e.jsx("div",{className:"align-center",children:e.jsx("button",{type:"submit",className:"button btn-primary",disabled:c||!o,children:c?"Creating...":"Create Pool"})})]})]})})]})},rt=()=>e.jsxs("div",{className:"card-container",children:[e.jsx("h1",{className:"title",children:"Welcome to SPONGE Protocol"}),e.jsxs("section",{className:"section",children:[e.jsx("h2",{children:"What is SPONGE Protocol?"}),e.jsx("p",{children:"SPONGE is a decentralized stablecoin protocol for payfi on solana ."})]}),e.jsxs("section",{className:"section",children:[e.jsx("h2",{children:"Key Features"}),e.jsxs("div",{className:"feature",children:[e.jsx("h3",{children:"⚡ ---"}),e.jsx("p",{children:"..."})]})]})]}),ct=[{path:"/",component:Ie,children:[{path:"",component:K},{path:"introduction",component:rt,meta:{title:"Introduction"}},{path:"guide",component:K,meta:{title:"Guide"}},{path:"amm",component:Ve,meta:{title:"AMM"}},{path:"farm",component:Xe,meta:{title:"Farm"}},{path:"farm/create",component:ot,meta:{title:"Create Farm Pool"}},{path:"farm/:poolAddress",component:at,meta:{title:"Farm Pool Item"}},{path:"cash",component:We,meta:{title:"cash Pool"}},{path:"cash/:poolAddress",component:tt}]}];function oe(n){return n.map(o=>({path:o.path,element:e.jsx(o.component,{}),children:o.children?oe(o.children):void 0}))}const it=oe(ct),W="/SPONGE/assets/favicon-VXsBTfPu.png",lt=()=>{const{connected:n}=B(),{network:o,setNetwork:r}=Ae(),a=je(it);return e.jsxs("div",{className:"app-container",children:[e.jsxs("nav",{className:"app-nav",children:[e.jsxs("div",{className:"brand",children:[e.jsx("img",{src:W,alt:"SPONGE Logo",className:"app-logo"}),e.jsx("h1",{className:"cash-title",children:"SPONGE"})]}),e.jsxs("div",{className:"controls",children:[e.jsx(Se,{onChange:r,value:o}),e.jsx(ke,{className:"button btn-primary"})]})]}),e.jsx("main",{className:"app-main",children:n?a:e.jsx("div",{className:"connect-wallet",children:e.jsxs("div",{className:"wrapper",children:[e.jsx("img",{src:W,alt:"SPONGE Logo",className:"connect-logo"}),e.jsx("h2",{className:"section-title",children:"Welcome to SPONGE"}),e.jsx("p",{className:"section-title",children:"Connect your wallet to continue"})]})})}),e.jsxs("div",{className:"social-links-corner",children:[e.jsx("a",{href:"https://github.com/yimingWOW/cash",target:"_blank",rel:"noopener noreferrer",className:"text-link",children:e.jsx("i",{className:"fab fa-github"})}),e.jsx("a",{href:"https://x.com/fall_labs",target:"_blank",rel:"noopener noreferrer",className:"text-link",children:e.jsx("i",{className:"fa-brands fa-x-twitter"})})]})]})},dt=()=>e.jsx(qe,{children:e.jsx(lt,{})});ve.createRoot(document.getElementById("root")).render(e.jsx(Ne.StrictMode,{children:e.jsx(be,{children:e.jsx(Pe,{children:e.jsx(dt,{})})})}));
